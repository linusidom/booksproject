{% extends 'base.html' %}
{% block body_block %}



<section id='reports'>
<h1>Reports</h1>
	<div class='report_date'>
		<form method="POST" action="{% url 'reports:report_list' %}">
			{% csrf_token %}
			<input type="date" name="startdate" required>
			<input type="date" name="enddate" required>
			<input class='btn_report_date' type="submit" value="Submit">
		</form>

		{% if default %}
			<p>Default is the last 7 Days</p>
		{% endif %}
	</div>

	{% if nodata%}
		<p>Sorry but there is no information for the selected time range.  Please select another date range</p>

	{% else %}
		<div class='report_summary'>

			{% if calories_to_dollars %}
				<p>Your getting {{calories_to_dollars|floatformat:2}} calories per dollar spent!</p>
			{% else %}
				<p>Go ahead and put in a few Entries into both Expenses and Foods.  You can find out how many calories you're getting per amount spent</p>
			{% endif %}
			{% if offset %}
				<p>Your within {{offset|floatformat:0}}% of your Goal!</p>
			{% else %}
				<p>Once you have a few Food Entries in, you can start to see how your meals track against your Personal Goals.  The Lower the Percentage the Closer you are to Eating on Target</p>
			{% endif %}
			{% if off_week %}
				<p>If you keep this up you could be at:</p>
				<p>{{off_week|floatformat:2}} lbs in 7 days</p>
				<p>{{off_weeks|floatformat:2}} lbs in 2 weeks</p>
				<p>{{off_month|floatformat:2}} lbs in 1 Month</p>
			{% else %}
				<p>I know you're working out!  But don't you want to know where you could be if you kept it up?  Track it and see</p>
			{% endif %}				
		</div>

		<div class='reports_foods'>
			{% if foods %}
			<section id='food_list'>
				<div class='food_header'>
					<h1>Foods</h1>
					<a class='create_button' href="{% url 'foods:food_create' %}">Create a Food</a>
				</div>
				<div class='clr'></div>
				<div class='food_table'>
				
					<table class='table'>
						<thead>
							<tr>
								<td>Log Date</td>
								<td>Item</td>
								<td>Calories</td>
								<td>Servings</td>
								<td>Carbs</td>
								<td>Protein</td>
								<td>Fat</td>
							</tr>
						</thead>
						<tbody>
						{% for food in foods %}
							<tr>
								<td><a href="{% url 'foods:food_detail' pk=food.pk%}">{{food.create_date}}</a></td>
								<td><a href="{% url 'foods:food_detail' pk=food.pk%}">{{food.food_item}}</a></td>
								<td><a href="{% url 'foods:food_detail' pk=food.pk%}">{{food.calories}}</a></td>
								<td><a href="{% url 'foods:food_detail' pk=food.pk%}">{{food.servings}}</a></td>
								<td><a href="{% url 'foods:food_detail' pk=food.pk%}">{{food.carbs}}</a></td>
								<td><a href="{% url 'foods:food_detail' pk=food.pk%}">{{food.protein}}</a></td>
								<td><a href="{% url 'foods:food_detail' pk=food.pk%}">{{food.fat}}</a></td>
							</tr>
						{% endfor %}
						</tbody>
					</table>
				{% endif %}
				</div>
			</section>
		</div>

		<div class='reports_expenses'>
			{% if expenses %}
			<section id='expense_list'>
				<div class='expense_header'>
					<h1>Expenses</h1>
					<a class='create_button' href="{% url 'expenses:expense_create' %}">Create an Expense</a>
				</div>
				<div class='clr'></div>
				<div class='expense_table'>
				
					<table class='table'>
						<thead>
							<tr>
								<td>Log Date</td>
								<td>Item</td>
								<td>Category</td>
								<td>Amount</td>
							</tr>
						</thead>
						<tbody>
						{% for expense in expenses %}
							<tr>
								<td><a href="{% url 'expenses:expense_detail' pk=expense.pk%}">{{expense.create_date}}</a></td>
								<td><a href="{% url 'expenses:expense_detail' pk=expense.pk%}">{{expense.expense_item}}</a></td>
								<td><a href="{% url 'expenses:expense_detail' pk=expense.pk%}">{{expense.expense_type}}</a></td>
								<td><a href="{% url 'expenses:expense_detail' pk=expense.pk%}">{{expense.amount}}</a></td>
							</tr>
						{% endfor %}
						</tbody>
					</table>
				{% endif %}
				</div>
			</section>
		</div>

		<div class='reports_exercises'>
			{% if exercises %}
			<section id='exercise_list'>
				<div class='exercise_header'>
					<h1>Exercises</h1>
					<a class='create_button' href="{% url 'exercises:exercise_create' %}">Create an Exercise</a>
				</div>
				<div class='clr'></div>
				<div class='exercise_table'>
					<table class='table'>
						<thead>
							<tr>
								<td>Log Date</td>
								<td>Exercise Type</td>
								<td>Calories</td>
								<td>Minutes</td>
							</tr>
						</thead>
						<tbody>
						{% for exercise in exercises %}
							<tr>
								<td><a href="{% url 'exercises:exercise_detail' pk=exercise.pk%}">{{exercise.create_date}}</a></td>
								<td><a href="{% url 'exercises:exercise_detail' pk=exercise.pk%}">{{exercise.exercise_type}}</a></td>
								<td><a href="{% url 'exercises:exercise_detail' pk=exercise.pk%}">{{exercise.calories_burned}}</a></td>
								<td><a href="{% url 'exercises:exercise_detail' pk=exercise.pk%}">{{exercise.minutes}}</a></td>
							</tr>
						{% endfor %}
						</tbody>
					</table>
				{% endif %}
				</div>
			</section>	
		</div>
	{% endif %}
</section>
{% endblock %}